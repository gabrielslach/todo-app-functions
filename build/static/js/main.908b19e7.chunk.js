(this["webpackJsonptodo-app"]=this["webpackJsonptodo-app"]||[]).push([[0],{27:function(e,t,n){},48:function(e,t,n){"use strict";n.r(t);var a=n(0),o=n.n(a),s=n(11),r=n.n(s),i=(n(27),n(7)),c=n(3),l=n(2),d=n(1);function u(e){var t=e.fill,n=void 0===t?"none":t,a=e.size,o=void 0===a?"5":a,s=e.onClick,r=void 0===s?null:s;return Object(d.jsx)("svg",{onClick:r,xmlns:"http://www.w3.org/2000/svg",className:"h-".concat(o," w-").concat(o," text-statusGray hover:text-blue-500 cursor-pointer"),fill:n,viewBox:"0 0 24 24",stroke:"currentColor",children:e.children})}function b(e){var t=e.onClick;return Object(d.jsx)(u,{onClick:t,children:Object(d.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"})})}function f(e){var t=e.onClick;return Object(d.jsx)(u,{onClick:t,children:Object(d.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})})}function j(e){var t=e.onClick;return Object(d.jsx)(u,{fill:"currentColor",onClick:t,children:Object(d.jsx)("path",{fillRule:"evenodd",d:"M10 3a1 1 0 01.707.293l3 3a1 1 0 01-1.414 1.414L10 5.414 7.707 7.707a1 1 0 01-1.414-1.414l3-3A1 1 0 0110 3zm-3.707 9.293a1 1 0 011.414 0L10 14.586l2.293-2.293a1 1 0 011.414 1.414l-3 3a1 1 0 01-1.414 0l-3-3a1 1 0 010-1.414z",clipRule:"evenodd"})})}function m(e){var t=e.onClick;return Object(d.jsx)(u,{size:"8",onClick:t,children:Object(d.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v3m0 0v3m0-3h3m-3 0H9m12 0a9 9 0 11-18 0 9 9 0 0118 0z"})})}var g=function(e){var t=e.categories,n=void 0===t?[{color:"green",label:"sample"}]:t,a=e.id,o=void 0===a?"":a,s=e.taskgroup,r=void 0===s?"":s,i=e.title,c=void 0===i?"Title":i,l=e.description,u=void 0===l?"Description":l,m=e.status,g=void 0===m?"Status":m,p=e.handleEditTask,h=void 0===p?function(){}:p,x=e.handleDeleteTask,v=void 0===x?function(){}:x,O=e.handleTaskChangeGroup,k=void 0===O?function(){}:O;return Object(d.jsxs)("div",{className:"rounded-lg p-3 mb-3 min-w-full bg-white",children:[Object(d.jsxs)("div",{className:"flex flex-row flex-auto",children:[Object(d.jsx)("h6",{className:"flex-1 mb-1 font-normal",children:c}),Object(d.jsx)(j,{onClick:function(){var e=n.map((function(e){return e.label})).join(", ");k({id:o,title:c,description:u,status:g,taskgroup:r,categories:e})}})]}),Object(d.jsx)("p",{className:"font-light text-sm",children:u}),Object(d.jsx)("div",{className:"flex flex-row flex-wrap mt-2 mb-1",children:n.map((function(e){return Object(d.jsx)("div",{className:"flex-initial bg-".concat(e.colorVariant.color,"-").concat(e.colorVariant.level," px-1 mb-1 mr-2"),children:Object(d.jsx)("p",{className:"text-".concat(e.colorVariant.color,"-").concat(e.colorVariant.level>500?"50":"700"," font-bold text-sm"),children:e.label})},"".concat(e.label,"-cat"))}))}),Object(d.jsx)("hr",{}),Object(d.jsxs)("div",{className:"flex flex-row pt-2 items-center gap-2",children:[Object(d.jsx)("p",{className:"flex-grow text-statusGray text-xs",children:g}),Object(d.jsx)(b,{onClick:function(){var e=n.map((function(e){return e.label})).join(", ");h({id:o,title:c,description:u,status:g,taskgroup:r,categories:e})}}),Object(d.jsx)(f,{onClick:function(){v({id:o,title:c})}})]})]})};var p=function(e){var t=e.taskList,n=void 0===t?[]:t,a=e.onAddTask,o=void 0===a?function(){}:a,s=e.onEditTask,r=void 0===s?function(){}:s,i=e.onDeleteTask,c=void 0===i?function(){}:i,l=e.onTaskChangeGroup,u=void 0===l?function(){}:l,b=e.groupName,f=void 0===b?"":b;return Object(d.jsxs)("div",{className:"flex flex-col w-full sm:w-96",id:"root",children:[Object(d.jsx)("h6",{className:"text-statusGray text-sm mb-2 uppercase",children:f}),Object(d.jsxs)("div",{className:"p-4 bg-groupGray rounded-lg flex flex-col items-center",children:[n.map((function(e){return Object(d.jsx)(g,{id:e.id,taskgroup:f,title:e.title,description:e.description,status:e.status,categories:e.categories,handleEditTask:r,handleDeleteTask:c,handleTaskChangeGroup:u},"".concat(e.id,"-task"))})),Object(d.jsx)(m,{onClick:function(){return o({groupName:f})}})]})]},"".concat(f,"-groupPaper"))},h=n(12),x=n(10);var v=function(e){var t=e.isOpen,n=void 0!==t&&t,a=e.handleClose,o=void 0===a?function(){}:a,s=e.handleConfirm,r=void 0===s?function(){}:s,i=e.handleCancel,c=void 0===i?function(){}:i,l=e.title,u=void 0===l?"":l,b=e.description,f=void 0===b?"":b,j=e.children,m=void 0===j?null:j,g=e.disabled,p=void 0!==g&&g;return Object(d.jsxs)(x.a,{open:n,onClose:o,className:"fixed z-10 inset-0 overflow-y-auto flex items-center justify-center",children:[Object(d.jsx)(x.a.Overlay,{className:"fixed inset-0 bg-black opacity-30"}),Object(d.jsxs)("div",{className:"w-full max-w-md p-6 overflow-hiddenalign-middle transform bg-white shadow-xl rounded-2xl",children:[Object(d.jsx)(x.a.Title,{className:"text-btnHovBlue text-2xl font-normal",children:u}),Object(d.jsx)(x.a.Description,{className:"text-sm mx-1 my-2",children:f}),m,Object(d.jsxs)("div",{className:"mt-6 float-right flex gap-1",children:[Object(d.jsx)("button",{onClick:c,className:"px-3 ".concat(p&&"cursor-not-allowed"),disabled:p,children:"Cancel"}),Object(d.jsx)("button",{onClick:r,className:"py-1 px-3 rounded-md text-white \n              ".concat(!p&&"bg-blue-600 font-normal"," \n              ").concat(p&&"bg-gray-400 cursor-not-allowed","\n              "),disabled:p,children:p?"Loading...":"Confirm"})]})]})]})},O=function(e){var t=e.name,n=e.label,a=e.register,s=e.required,r=e.validation,i=void 0===r?null:r;return Object(d.jsx)(o.a.Fragment,{children:Object(d.jsxs)("label",{className:"block",children:[Object(d.jsxs)("span",{className:"text-gray-700",children:[n,s&&"*"]}),Object(d.jsx)("input",Object(c.a)(Object(c.a)({type:"text"},a(t,Object(c.a)({required:s},i))),{},{className:"mt-1 block w-full rounded-md bg-gray-100 border-transparent focus:border-gray-500 focus:bg-white focus:ring-0"}))]})})},k=function(e){var t=e.name,n=e.label,a=e.register,s=e.required;return Object(d.jsx)(o.a.Fragment,{children:Object(d.jsxs)("label",{className:"block",children:[Object(d.jsxs)("span",{className:"text-gray-700",children:[n,s&&"*"]}),Object(d.jsx)("textarea",Object(c.a)(Object(c.a)({},a(t,{required:s})),{},{className:"mt-1 block w-full rounded-md bg-gray-100 border-transparent focus:border-gray-500 focus:bg-white focus:ring-0"}))]})})},C=function(e){var t=e.name,n=e.label,a=e.optionsList,s=void 0===a?[]:a,r=e.register,i=e.required;return Object(d.jsx)(o.a.Fragment,{children:Object(d.jsxs)("label",{className:"block",children:[Object(d.jsxs)("span",{className:"text-gray-700",children:[n,i&&"*"]}),Object(d.jsx)("select",Object(c.a)(Object(c.a)({},r(t,{required:i})),{},{className:"mt-1 block w-full rounded-md bg-gray-100 border-transparent focus:border-gray-500 focus:bg-white focus:ring-0",children:s.map((function(e){var t=e.value,n=e.label;return Object(d.jsx)("option",{value:t,children:n},"".concat(t,"-opt-key"))}))}))]})})},w={title:"",description:"",categories:"",status:"",taskgroup:""},N=[{value:"queue",label:"QUEUE"},{value:"doing",label:"DOING"},{value:"done",label:"DONE"}];var T=function(e){var t=e.type,n=void 0===t?"Add":t,o=e.isOpen,s=void 0!==o&&o,r=e.handleClose,i=void 0===r?function(){}:r,u=e.onSubmit,b=void 0===u?function(){}:u,f=e.isLoading,j=void 0!==f&&f,m=e.selected,g=void 0===m?{}:m,p=Object(h.a)({defaultValues:w}),x=p.register,T=p.handleSubmit,y=p.reset,L=p.formState.errors;return Object(a.useEffect)((function(){g&&g.taskgroup&&y(Object(c.a)(Object(c.a)({},w),g))}),[g]),Object(d.jsx)(v,{isOpen:s,handleClose:i,handleConfirm:T((function(e){b(e,(function(){return y(w)}))})),handleCancel:function(){i(),y(w)},disabled:j,title:"".concat(n," Task"),description:"Fill-up required (*) fields.",children:Object(d.jsxs)("form",{className:"flex flex-col gap-2 m-1",children:[Object(d.jsx)(O,{name:"title",label:"Title",register:x,validation:{minLength:{value:3,message:"Title should be atleast 3 char long."}},required:!0}),Object(d.jsx)(k,{name:"description",label:"Description",register:x}),Object(d.jsx)(O,{name:"status",label:"Status",register:x}),Object(d.jsx)(O,{name:"categories",label:"Categories (comma-separated)",register:x}),Object(d.jsx)(C,{name:"taskgroup",label:"Task Group",optionsList:N,register:x,required:!0}),L&&Object.entries(L).map((function(e){var t=Object(l.a)(e,2),n=t[0],a=t[1];return Object(d.jsx)("p",{className:"font-light text-xs text-red-500 mt-2 capitalize",children:a.message&&a.message.length>0?a.message:"".concat(n," is required.")},"".concat(n,"-errmsg"))}))]})})};var y=function(e){var t=e.isOpen,n=void 0!==t&&t,a=e.taskTitle,o=void 0===a?"":a,s=e.handleConfirm,r=void 0===s?function(){}:s,i=e.handleClose,c=void 0===i?function(){}:i,l=e.isLoading,u=void 0!==l&&l;return Object(d.jsx)(v,{isOpen:n,handleClose:c,handleConfirm:r,handleCancel:c,title:"Delete Task",description:'Are you sure to delete "'.concat(o,"\"? This can't be undone."),disabled:u})},L=function(e){var t=e.name,n=e.optionsList,a=void 0===n?[]:n,s=e.register,r=e.required;return Object(d.jsx)(o.a.Fragment,{children:Object(d.jsx)("select",Object(c.a)(Object(c.a)({},s(t,{required:r})),{},{className:"mt-1 block w-full rounded-md bg-gray-100 border-transparent focus:border-gray-500 focus:bg-white focus:ring-0",children:a.map((function(e){var t=e.value,n=e.label;return Object(d.jsx)("option",{value:t,children:n},"".concat(t,"-opt-key"))}))}))})},S={title:"",description:"",categories:"",status:"",taskgroup:""},E=[{value:"queue",label:"QUEUE"},{value:"doing",label:"DOING"},{value:"done",label:"DONE"}];var q=function(e){var t=e.isOpen,n=void 0!==t&&t,o=e.handleClose,s=void 0===o?function(){}:o,r=e.onSubmit,i=void 0===r?function(){}:r,u=e.isLoading,b=void 0!==u&&u,f=e.selected,j=void 0===f?{}:f,m=Object(h.a)({defaultValues:S}),g=m.register,p=m.handleSubmit,x=m.reset,O=m.formState.errors;return Object(a.useEffect)((function(){j&&j.taskgroup&&x(Object(c.a)(Object(c.a)({},S),j))}),[j]),Object(d.jsx)(v,{isOpen:n,handleClose:s,handleConfirm:p((function(e){i(e,(function(){return x(S)}))})),handleCancel:function(){s(),x(S)},disabled:b,title:"Change Group",description:'Select which group to transfer task "'.concat(j&&j.title,'."'),children:Object(d.jsxs)("form",{className:"flex flex-col gap-2 m-1",children:[Object(d.jsx)(L,{name:"taskgroup",label:"Task Group",optionsList:E,register:g,required:!0}),O&&Object.entries(O).map((function(e){var t=Object(l.a)(e,2),n=t[0],a=t[1];return Object(d.jsx)("p",{className:"font-light text-xs text-red-500 mt-2 capitalize",children:a.message&&a.message.length>0?a.message:"".concat(n," is required.")},"".concat(n,"-errmsg"))}))]})})},D=n(5),G=n(22),A=n.n(G),z=("https:"===window.location.protocol||"todo.gabrielslach.me"===window.location.hostname?window.location.origin:"http://localhost:5000")+"/api/";function B(){for(var e=["green","blue","red","yellow","indigo","purple","pink"],t=[],n=0,a=["50","200","400","600","800"];n<a.length;n++){var o,s=a[n],r=Object(D.a)(e);try{for(r.s();!(o=r.n()).done;){var i=o.value;t.push({color:i,level:s})}}catch(c){r.e(c)}finally{r.f()}}return t}var F=function(e,t,n,a){var o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:function(){};return function(s){if(s&&s.tasks&&s.tasks.list){var r,i=[],l=[],d=[],u=[],b=Object(D.a)(s.tasks.list);try{for(b.s();!(r=b.n()).done;){r.value.categories.forEach((function(t){u.indexOf(t)<0&&e.length>u.length&&u.push(t)}))}}catch(h){b.e(h)}finally{b.f()}var f,j=Object(D.a)(s.tasks.list);try{for(j.s();!(f=j.n()).done;){var m=f.value,g=m.categories,p=Object(c.a)({},m);switch(p.categories=g.map((function(t){var n=u.indexOf(t);return n<0&&(n=u.length-1),{colorVariant:e[n],label:t}})),m.taskgroup){case"queue":i.push(p);break;case"doing":l.push(p);break;case"done":d.push(p)}}}catch(h){j.e(h)}finally{j.f()}o(s),t(i),n(l),a(d)}}},M=function(e,t){return function(n){return n.filter((function(n){return JSON.stringify(n[e]).toLowerCase().indexOf(t.toLowerCase())>=0}))}};function V(e){var t=Object(a.useRef)(null),n=Object(a.useMemo)(B,[]),o=Object(a.useState)([]),s=Object(l.a)(o,2),r=s[0],i=s[1],d=Object(a.useState)([]),u=Object(l.a)(d,2),b=u[0],f=u[1],j=Object(a.useState)([]),m=Object(l.a)(j,2),g=m[0],p=m[1],h=Object(a.useState)([]),x=Object(l.a)(h,2),v=x[0],O=x[1],k=Object(a.useState)(!1),C=Object(l.a)(k,2),w=C[0],N=C[1];function T(){t.current=setTimeout((function(){alert("Server Timeout"),N(!1)}),3e4)}function y(){clearTimeout(t.current)}var L=function(e,t){401!==t&&403!==t||alert("Unauthorized."),console.log("Server Error: Please contact your server administrator."),alert(t||"Server Error. Please reload the page.")},S=function(e,t,n,a,o){(function(e,t,n){return A()({method:"post",url:z+e,data:t,timeout:3e4,headers:{"Content-Type":"application/json",Authorization:"Bearer "+n}})})(t,n,a).then((function(t){y(),N(!1),200!==t.status&&201!==t.status?L(0,t.status):function(e,t,n){var a=t.data,o=t.oFlag,s=t.oMessage;o?n(a):console.log(e,": ",s)}(e,t.data,o)})).catch((function(e){y(),N(!1),L(0,e&&e.response?e.response.status:""),console.log("makePostRequest_err: ",e)}))};return{queueTasks:b,doingTasks:g,doneTasks:v,isLoading:w,setTasks:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=arguments.length>2?arguments[2]:void 0,o="",s={},l=function(){};switch(N(!0),e){case"get":o+="get-tasks",s={},l=F(n,f,p,O,i);break;case"add":o+="append-task",s=Object(c.a)({id:null},t),l=function(e){F(n,f,p,O,i)(e),a()};break;case"edit":o+="append-task",s=t,l=function(e){F(n,f,p,O,i)(e),a()};break;case"delete":o+="delete-task",s=t,l=function(e){F(n,f,p,O,i)(e),a()};break;case"filter":var d=t.field,u=t.filterTxt;return""===u?F(n,f,p,O)(r):(f(M(d,u)),p(M(d,u)),O(M(d,u))),void N(!1)}T(),""===e&&"undefined"===typeof e||S(e,o,s,null,l)}}}var H={taskCreator:!1,taskEditor:!1,taskDelete:!1},P="taskCreator",U="taskEditor",I="taskDelete",R="taskChangeGroup",J=["title","description","categories","status","taskgroup"];var W=function(){var e=Object(a.useState)(H),t=Object(l.a)(e,2),n=t[0],o=t[1],s=Object(a.useState)(null),r=Object(l.a)(s,2),u=r[0],b=r[1],f=V(),j=f.queueTasks,m=f.doingTasks,g=f.doneTasks,h=f.isLoading,x=f.setTasks,v=function(e,t){return function(){o((function(n){return Object(c.a)(Object(c.a)({},n),{},Object(i.a)({},e,t))}))}},O=function(e){e&&e.groupName?b({taskgroup:e.groupName}):b(null),v(P,!0)()},k=function(e){e&&!isNaN(e.id)?b(e):b(null),v(U,!0)()},C=function(e){e&&!isNaN(e.id)?b(e):b(null),v(I,!0)()},w=function(e){e&&!isNaN(e.id)?b(e):b(null),v(R,!0)()},N=function(e,t){x("add",e,(function(){v(P,!1)(),v(U,!1)(),v(R,!1)(),t()}))};return Object(a.useEffect)((function(){x("get")}),[]),Object(d.jsxs)("div",{className:"root",children:[Object(d.jsxs)("div",{className:"flex flex-row flex-auto items-center py-4 px-7 bg-appBarBlue",children:[Object(d.jsx)("p",{className:"flex-grow self-auto font-bold font-roboto text-white text-xl",children:"HOT LIST"}),Object(d.jsx)("button",{className:"py-2 px-3 rounded bg-btnBlue hover:bg-btnHovBlue text-white font-medium text-sm",onClick:v(P,!0),children:"Add Task"})]}),Object(d.jsx)("form",{onSubmit:function(e){e.preventDefault();var t=e.target.filterTxt.value,n=e.target.field.value;x("filter",{field:n,filterTxt:t})},onChange:function(e){var t=e.target.value;""===t&&x("filter",{filterTxt:t})},children:Object(d.jsxs)("div",{className:"m-2 mt-4 sm:mt-7 sm:ml-7 flex flex-col sm:flex-row gap-3 md:max-w-lg",children:[Object(d.jsxs)("div",{className:"max-w flex flex-row flex-grow gap-0 rounded-md border-2 border-gray-400 focus-within:border-blue-500 focus-within:ring focus-within:ring-blue-200 focus-within:ring-opacity-50  overflow-hidden",children:[Object(d.jsx)("input",{name:"filterTxt",type:"text",placeholder:"Search",className:"flex-grow rounded-md rounded-r-none border-0 focus:ring-0"}),Object(d.jsx)("select",{name:"field",className:"rounded-md rounded-l-none border-0 focus:ring-0",style:{textAlignLast:"right"},children:J.map((function(e){return Object(d.jsx)("option",{value:e,children:e.toUpperCase()},"".concat(e,"-fieldOpt"))}))})]}),Object(d.jsx)("button",{type:"submit",className:"px-4 rounded-md bg-btnBlue p-2 text-white",children:"Search"})]})}),Object(d.jsxs)("div",{className:"mx-3 my-4 sm:m-7 flex flex-col md:flex-row gap-10",children:[Object(d.jsx)(p,{groupName:"queue",taskList:j,onAddTask:O,onEditTask:k,onDeleteTask:C,onTaskChangeGroup:w}),Object(d.jsx)(p,{groupName:"doing",taskList:m,onAddTask:O,onEditTask:k,onDeleteTask:C,onTaskChangeGroup:w}),Object(d.jsx)(p,{groupName:"done",taskList:g,onAddTask:O,onEditTask:k,onDeleteTask:C,onTaskChangeGroup:w})]}),Object(d.jsx)(T,{type:"Add",isOpen:n.taskCreator,isLoading:h,onSubmit:N,handleClose:v(P,!1),selected:u}),Object(d.jsx)(T,{type:"Edit",isOpen:n.taskEditor,isLoading:h,onSubmit:N,handleClose:v(U,!1),selected:u}),Object(d.jsx)(q,{isOpen:n.taskChangeGroup,isLoading:h,onSubmit:N,handleClose:v(R,!1),selected:u}),Object(d.jsx)(y,{isOpen:n.taskDelete,isLoading:h,taskTitle:u&&u.title,handleClose:v(I,!1),handleConfirm:function(){return e=u.id,void x("delete",{id:e},(function(){v(I,!1)()}));var e}})]})},Q=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,49)).then((function(t){var n=t.getCLS,a=t.getFID,o=t.getFCP,s=t.getLCP,r=t.getTTFB;n(e),a(e),o(e),s(e),r(e)}))};r.a.render(Object(d.jsx)(o.a.StrictMode,{children:Object(d.jsx)(W,{})}),document.getElementById("root")),Q()}},[[48,1,2]]]);
//# sourceMappingURL=main.908b19e7.chunk.js.map